<launch>
    <arg name="robot_name" default="my_gen3" />
    <arg name="gripper"    default="robotiq_2f_85" />
    <arg name="vision"     default="true" />
    
    <arg name="robot_ip"   default="192.168.1.10" /> 
    
    <arg name="marker_id"   value="582"/>
    <arg name="marker_size" value="0.035"/> <include file="$(find kortex_driver)/launch/kortex_driver.launch" >
        <arg name="robot_name"   value="$(arg robot_name)" />
        <arg name="gripper"      value="$(arg gripper)" />
        <arg name="robot_ip"     value="$(arg robot_ip)" />
        <arg name="vision"       value="$(arg vision)" />
        </include>
    
    <include file="$(find kortex_description)/../kortex_move_it_config/$(arg arm)_$(arg gripper)_move_it_config/launch/move_group.launch">
        <arg name="dof" value="7"/> <arg name="prefix" value=""/>
        <arg name="use_sim_time" value="false"/>
    </include>
    
    <node name="rviz" pkg="rviz" type="rviz" if="$(eval true)"
          args="-d $(find my_control)/rviz/my_control.rviz"/> 

    <include file="$(find my_control)/launch/aruco_ros.launch">
        <arg name="robot_name"  value="$(arg robot_name)" />
        <arg name="camera_name" value="camera" />
        <arg name="marker_id"   value="$(arg marker_id)"/>
        <arg name="marker_size" value="$(arg marker_size)"/>
    </include>
    
    <include file="$(find easy_handeye)/launch/calibrate.launch">
        <arg name="eye_in_hand_mode" value="true" />
        
        <arg name="robot_base_frame"      value="$(arg robot_name)/base_link" />
        <arg name="robot_effector_frame"  value="$(arg robot_name)/end_effector_link" /> 
        
        <arg name="tracking_base_frame"   value="$(arg robot_name)/camera_link" /> 
        
        <arg name="tracking_marker_frame" value="aruco_marker_$(arg marker_id)" /> 
        
        <arg name="gui" value="true" />
    </include>

</launch>